{"uuid":"58362e19f927dfa0a0cc86c547c999a4","name":"Wiki Dịch","version":1.4,"url":"","language":"vi","icon":"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\u003d\u003d","source":"http://wikidich.com","regex":"wikidich.com/truyen/[^/]+/?$","author":"Darkrai","describe":"","group":"convert","supportUpdate":false,"chap":"local url \u003d ...\r\nlocal doc \u003d http:request(url):html()\r\nif doc ~\u003d nil then\r\n    return doc:select(\"div#bookContentBody\")\r\nend\r\nreturn nil","toc":"local url \u003d ...\r\n\r\nlocal list \u003d {}\r\nlocal doc \u003d http:request(url):html()\r\n\r\nif (doc ~\u003d nil) then\r\n    local id \u003d doc:select(\"input#bookId\"):attr(\"value\")\r\n    local size \u003d num:to_int(regexp:find(doc:html(), \"loadBookIndex.*?\\\\d+\\\\s*,\\\\s*(\\\\d+)\\\\s*,\"), 501)\r\n    local signKey \u003d regexp:find(doc:html(), \"signKey\\\\s*\u003d\\\\s*\\\"(.*?)\\\";\")\r\n    local fuzzySignJs \u003d regexp:find(doc:html(), \"(?s)function\\\\s*fuzzySign.*?return\\\\s*(.*?);\")\r\n    local js \u003d \"function signFunc(text){var o\u003d\" .. fuzzySignJs .. \";function f(r,o){return r\u003e\u003e\u003eo|r\u003c\u003c32-o}for(var t,n,a\u003dMath.pow,i\u003da(2,32),c\u003d\\\"length\\\",e\u003d\\\"\\\",u\u003d[],s\u003d8*o[c],v\u003d[],g\u003d[],h\u003dg[c],l\u003d{},b\u003d2;64\u003eh;b++)if(!l[b]){for(t\u003d0;313\u003et;t+\u003db)l[t]\u003db;v[h]\u003da(b,.5)*i|0,g[h++]\u003da(b,1/3)*i|0}for(o+\u003d\\\"\\\";o[c]%64-56;)o+\u003d\\\"\\0\\\";for(t\u003d0;t\u003co[c];t++){if((n\u003do.charCodeAt(t))\u003e\u003e8)return;u[t\u003e\u003e2]|\u003dn\u003c\u003c(3-t)%4*8}for(u[u[c]]\u003ds/i|0,u[u[c]]\u003ds,n\u003d0;n\u003cu[c];){var d\u003du.slice(n,n+\u003d16),p\u003dv;for(v\u003dv.slice(0,8),t\u003d0;64\u003et;t++){var w\u003dd[t-15],A\u003dd[t-2],C\u003dv[0],M\u003dv[4],S\u003dv[7]+(f(M,6)^f(M,11)^f(M,25))+(M\u0026v[5]^~M\u0026v[6])+g[t]+(d[t]\u003d16\u003et?d[t]:d[t-16]+(f(w,7)^f(w,18)^w\u003e\u003e\u003e3)+d[t-7]+(f(A,17)^f(A,19)^A\u003e\u003e\u003e10)|0);(v\u003d[S+((f(C,2)^f(C,13)^f(C,22))+(C\u0026v[1]^C\u0026v[2]^v[1]\u0026v[2]))|0].concat(v))[4]\u003dv[4]+S|0}for(t\u003d0;8\u003et;t++)v[t]\u003dv[t]+p[t]|0}for(t\u003d0;8\u003et;t++)for(n\u003d3;n+1;n--){var j\u003dv[t]\u003e\u003e8*n\u0026255;e+\u003d(16\u003ej?0:\\\"\\\")+j.toString(16)}return e}\"\r\n    local sign \u003d javascript:execute(js, \"signFunc\", signKey .. 0 .. size)\r\n\r\n    local firstUrl \u003d \"https://wikidich.com/book/index?bookId\u003d\" .. id .. \"\u0026start\u003d\" .. 0 .. \"\u0026size\u003d\" .. size .. \"\u0026signKey\u003d\" .. signKey .. \"\u0026sign\u003d\" .. sign\r\n    doc \u003d http:request(firstUrl):html()\r\n    local currentPage \u003d 0\r\n    while (doc ~\u003d nil) do\r\n        local el \u003d doc:select(\"li.chapter-name a\")\r\n        for i \u003d 0, el:size() - 1 do\r\n            local e \u003d el:get(i)\r\n            local link \u003d e:attr(\"href\")\r\n            if (string.len(link) \u003c 10) then\r\n                link \u003d e:attr(\"data-href\")\r\n            end\r\n            table.insert(list, core:new_chapter(e:text(), link, \"http://wikidich.com\"))\r\n        end\r\n\r\n        local lastPage \u003d num:to_int(doc:select(\"ul.pagination a\"):last():attr(\"data-start\"), 0)\r\n        doc \u003d nil\r\n        if (currentPage \u003c lastPage) then\r\n            currentPage \u003d currentPage + size\r\n            sign \u003d javascript:execute(js, \"signFunc\", signKey .. currentPage .. size)\r\n            firstUrl \u003d \"https://wikidich.com/book/index?bookId\u003d\" .. id .. \"\u0026start\u003d\" .. currentPage .. \"\u0026size\u003d\" .. size .. \"\u0026signKey\u003d\" .. signKey .. \"\u0026sign\u003d\" .. sign\r\n            doc \u003d http:request(firstUrl):html()\r\n        end\r\n    end\r\nend\r\nreturn list","search":"local key, page \u003d ...\r\nlocal doc \u003d http:request(\"http://wikidich.com/tim-kiem?qs\u003d1\u0026q\u003d\" .. key .. \"\u0026start\u003d\" .. (page + 1) * 10 .. \"\u0026so\u003d1\u0026vo\u003d1\"):html()\r\n\r\nlocal list \u003d {}\r\nif doc ~\u003d nil then\r\n\r\n    list[\"count\"] \u003d num:to_int(doc:select(\"li.waves-effect\"):last():text(), 0)\r\n\r\n    local el \u003d doc:select(\"div.book-list div.book-item\")\r\n\r\n    if el ~\u003d nil then\r\n        local data \u003d {}\r\n        for i \u003d 0, el:size() - 1 do\r\n            local e \u003d el:get(i)\r\n            table.insert(data, core:new_search(\r\n                    e:select(\"h5\"):text(),\r\n                    e:select(\"div.info-col a\"):first():attr(\"href\"),\r\n                    e:select(\"img\"):attr(\"src\"),\r\n                    \"http://wikidich.com\")\r\n            )\r\n        end\r\n        list[\"data\"] \u003d data\r\n    end\r\nend\r\nreturn list\r\n","detail":"local url \u003d ...\r\n\r\nlocal doc \u003d http:request(url):html()\r\n\r\nif doc ~\u003d nil then\r\n    local book \u003d {}\r\n    book[\"name\"] \u003d doc:select(\"div.cover-info h2\"):text()\r\n    book[\"cover\"] \u003d core:merge_url(\"https://wikidich.com\", doc:select(\"div.book-info img\"):first():attr(\"src\"))\r\n    book[\"author\"] \u003d text:replace(regexp:find(doc:select(\"div.cover-info\"):html(), \"tac-gia/.*?\u003e(.*?)\u003c/a\u003e\", 1), \"^\\\\s*|\u003ca.*?\u003e|\u003c/a\u003e|\\\\s*$\", \"\")\r\n    book[\"description\"] \u003d doc:select(\"div.book-desc-detail\"):html()\r\n    local element \u003d doc:select(\"div.cover-info\"):first()\r\n    html:remove(element, { \"h2\", \"span\", \"i\" })\r\n    book[\"detail\"] \u003d element:html()\r\n    return book\r\nend\r\nreturn nil","checked":true}