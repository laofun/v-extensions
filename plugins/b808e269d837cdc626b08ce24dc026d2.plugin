{"uuid":"b808e269d837cdc626b08ce24dc026d2","name":"Truyện Của Tui","version":1.1,"url":"","language":"vi","icon":"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\u003d","source":"http://truyencuatui.net","regex":"(www.)?(m.)?truyencuatui.net/truyen/[^/]+.html$","author":"Darkrai","describe":"","group":"dich|convert","supportUpdate":false,"chap":"local url \u003d ...\r\nlocal doc \u003d http:request(url):html()\r\nif doc ~\u003d nil then\r\n    local element \u003d doc:select(\"div.content.chapter-content\")\r\n    html:remove(element, { \"script\", \"a\", \u0027div\u0027 })\r\n    return text:remove(element:html(), { \"\u003cspan.*?\u003e|\u003c/span\u003e\", \"\u003c!--.*?--\u003e\" })\r\nend\r\nreturn nil","toc":"local url \u003d ...\r\n\r\nlocal list \u003d {}\r\nlocal doc \u003d http:request(url):headers({ [\"X-Requested-With\"] \u003d \"XMLHttpRequest\" }):html()\r\nif doc ~\u003d nil then\r\n    local el \u003d doc:select(\"a\")\r\n    for i \u003d 0, el:size() - 1 do\r\n        local e \u003d el:get(i)\r\n        table.insert(list, core:new_chapter(e:text(), e:attr(\"href\"), \"http://truyencuatui.net\"))\r\n    end\r\nend\r\nreturn list","page":"local url \u003d ...\r\n\r\nlocal list \u003d {}\r\ntable.insert(list, text:replace(url, \"/truyen/\", \"/chuong/\"))\r\nreturn list","search":"local key, page \u003d ...\r\nlocal doc \u003d http:request(\"http://truyencuatui.net/search?q\u003d\" .. key .. \"\u0026page\u003d\" .. page + 1):html()\r\n\r\nlocal list \u003d {}\r\n\r\nif doc ~\u003d nil then\r\n\r\n    list[\"count\"] \u003d num:to_int(regexp:find_last(doc:html(), \"page\u003d(\\\\d+)\"), 1)\r\n\r\n    local el \u003d doc:select(\"div.panel-body\"):last():select(\"li.list-group-item\")\r\n\r\n    if el ~\u003d nil then\r\n        local data \u003d {}\r\n        for i \u003d 0, el:size() - 1 do\r\n            local e \u003d el:get(i)\r\n            table.insert(data, core:new_search(\r\n                    e:select(\"h4 a\"):text(),\r\n                    e:select(\"h4 a\"):attr(\"href\"),\r\n                    \"\",\r\n                    \"http://truyencuatui.net\")\r\n            )\r\n        end\r\n        list[\"data\"] \u003d data\r\n    end\r\nend\r\nreturn list\r\n","detail":"local url \u003d ...\r\n\r\nlocal doc \u003d http:request(url):html()\r\n\r\nif doc ~\u003d nil then\r\n    local book \u003d {}\r\n    book[\"url\"] \u003d text:replace(url, \"://m\\\\.\", \"://\")\r\n    book[\"name\"] \u003d doc:select(\"h1.title\"):text()\r\n    book[\"cover\"] \u003d core:merge_url(\"http://truyencuatui.net\", doc:select(\"div.cover img\"):attr(\"src\"))\r\n    book[\"author\"] \u003d doc:select(\"a[itemprop\u003dauthor] span\"):last():text()\r\n    book[\"description\"] \u003d doc:select(\"div.contentt\"):html()\r\n    book[\"detail\"] \u003d doc:select(\"div.jumbotron div.list-group\"):first():html() .. \"\u003cbr\u003e\" .. doc:select(\"p.stt\"):html()\r\n    return book\r\nend\r\nreturn nil","checked":true}