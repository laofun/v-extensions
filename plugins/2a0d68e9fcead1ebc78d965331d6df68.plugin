{"uuid":"2a0d68e9fcead1ebc78d965331d6df68","name":"Truyện Tranh Tuần","version":1.1,"url":"","language":"vi","icon":"iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMAUExURf////j//+7//vz//2fx+QDs+vX//9L5+9z9/eD8/fH//uL9/Ov9/wDs+PD+/3r097j4+Nb8+rX3+znu95r1+qr4+xvv91Xv9cz6+ILz90fv85b196H39vf/+8v4/MD4+SAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtra2xsbG1tbW5ubm9vb3BwcHFxcXJycnNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///9QOQlEAAADLSURBVHja7JgxCsMwFEO9aNRk+Ibc/6AdAu3iobR+aVz0DiBkochJWgshhBBCCLfCT2TJ1gTLFm2k0wdl5fWO/1e6rbUxzVq2bTgfs/n403zo/L85wEp9/aCfZv1vlb9vug/f9Kdgfe29D6bzp/u58gKuXuU66bU+n0kzaX3w/cHwPnj5Pk/yAZ8vwfkPuD+i9ccF/aHvr43zN9zPOlbv82wf4Hw6vc/bftmd+i7YP62vbffhtP8XLdrSOf3rpwarf8D6IYQQQriWxwCZ3wlAdEYkfwAAAABJRU5ErkJggg\u003d\u003d","source":"http://truyentranhtuan.com","regex":"truyentranhtuan.com/[0-9a-z-]+/?$","author":"Darkrai","describe":"","group":"truyentranh","supportUpdate":false,"chap":"local url \u003d ...\r\nlocal htm \u003d http:request(url):string()\r\nif htm ~\u003d nil then\r\n    local start \u003d text:index_of(htm, \"slides_page_url_path\")\r\n    local txt \u003d \"\"\r\n    if (start ~\u003d -1) then\r\n        txt \u003d text:sub(htm, text:index_of(htm, \"[\", start) .. \"\", text:index_of(htm, \"];\", start) + 1 .. \"\")\r\n        if (string.len(txt) \u003c 10) then\r\n            start \u003d text:index_of(htm, \"slides_page_path\")\r\n            if (start ~\u003d -1) then\r\n                txt \u003d text:sub(htm, text:index_of(htm, \"[\", start) .. \"\", text:index_of(htm, \"];\", start) + 1 .. \"\")\r\n            end\r\n        end\r\n\r\n        local data \u003d text:json_table(txt)\r\n        local result \u003d \"\"\r\n\r\n        for _, v in ipairs(data) do\r\n            result \u003d result .. \"\u003cimg src\u003d\\\"\" .. v .. \"\\\"\u003e\u003cbr/\u003e\"\r\n        end\r\n        return result\r\n    end\r\nend\r\nreturn nil","toc":"local url \u003d ...\r\n\r\nlocal list \u003d {}\r\nlocal doc \u003d http:request(url):html()\r\nif doc ~\u003d nil then\r\n    local el \u003d doc:select(\"div#manga-chapter span.chapter-name a\")\r\n    for i \u003d el:size() - 1, 0, -1 do\r\n        local e \u003d el:get(i)\r\n        table.insert(list, core:new_chapter(e:text(), e:attr(\"href\"), \"http://truyentranhtuan.com\"))\r\n    end\r\nend\r\nreturn list","search":"local key \u003d ...\r\nlocal htm \u003d http:request(\"http://truyentranhtuan.com/wp-content/themes/nos/js/search.js\"):string()\r\n\r\nlocal list \u003d {}\r\n\r\nif htm ~\u003d nil then\r\n\r\n    list[\"count\"] \u003d 1\r\n    local tbl \u003d text:json_table(text:sub(htm, text:index_of(htm, \"\u003d\") + 1, text:last_index_of(htm, \";\")))\r\n    local data \u003d {}\r\n    for i, v in ipairs(tbl) do\r\n        if (text:contains(string.lower(v[\"label\"]), string.lower(key))) then\r\n            table.insert(data, core:new_search(\r\n                    v[\"label\"],\r\n                    v[\"url\"],\r\n                    \"\",\r\n                    \"http://truyentranhtuan.com\")\r\n            )\r\n        end\r\n    end\r\n    list[\"data\"] \u003d data\r\nend\r\nreturn list\r\n","detail":"local url \u003d ...\r\n\r\nlocal doc \u003d http:request(url):html()\r\n\r\nif doc ~\u003d nil then\r\n    local book \u003d {}\r\n    book[\"name\"] \u003d  doc:select(\"div#infor-box h1\"):text()\r\n    book[\"cover\"] \u003d core:merge_url(\"http://truyentranhtuan.com\", doc:select(\"div#infor-box div.manga-cover img\"):attr(\"src\"))\r\n    book[\"author\"] \u003d doc:select(\"span[itemprop\u003dauthor]\"):text()\r\n    book[\"description\"] \u003d doc:select(\"div#manga-summary\"):html()\r\n    book[\"detail\"] \u003d doc:select(\"p.misc-infor\"):html()\r\n    return book\r\nend\r\nreturn nil","checked":true}